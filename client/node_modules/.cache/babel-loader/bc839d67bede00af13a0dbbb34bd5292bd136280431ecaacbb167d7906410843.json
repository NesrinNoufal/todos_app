{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\NASRIN\\\\Projects\\\\todos_app\\\\client\\\\src\\\\pages\\\\LoginSignup.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './styles/LoginSignup.css';\nimport { useAuthContext } from '../context/AuthContext';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LoginSignup = () => {\n  _s();\n  const {\n    setAuthUser\n  } = useAuthContext();\n  const [state, setState] = useState(\"Login\");\n  const [formData, setFormData] = useState({\n    fullName: \"\",\n    username: \"\",\n    password: \"\",\n    confirmPassword: \"\"\n  });\n  const onChangeHandler = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const login = async () => {\n    console.log(\"Login function executed\", FormData);\n    let responseData;\n    await fetch('http://localhost:5000/api/auth/login', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    }).then(response => {\n      if (!response.ok) {\n        throw new Error('Invalid credentials');\n      }\n      return response.json();\n    }).then(data => {\n      responseData = data;\n      if (responseData) {\n        localStorage.setItem('token', responsetoken);\n        setAuthUser(responseData);\n      } else {\n        alert(responseData.error);\n      }\n    });\n  };\n  const signup = async () => {\n    console.log(\"signup function executed\", formData);\n    try {\n      const response = await fetch('http://localhost:5000/api/auth/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n      if (!response.ok) {\n        throw new Error('Invalid credentials');\n      }\n      const responseData = await response.json();\n      if (responseData) {\n        setFormData({\n          fullName: \"\",\n          username: \"\",\n          password: \"\",\n          confirmPassword: \"\"\n        });\n        setTimeout(() => {\n          toast.success(\"Signed up successfully\");\n        }, 100);\n      } else {\n        alert(responseData.error);\n      }\n    } catch (error) {\n      console.error(\"Signup failed:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginsignup-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 8\n      }, this), state === \"Sign Up\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: onChangeHandler,\n        value: formData.fullName,\n        type: \"text\",\n        name: \"fullName\",\n        placeholder: \"fullName\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 27\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: onChangeHandler,\n        value: formData.username,\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"username\",\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: onChangeHandler,\n        value: formData.password,\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"password\",\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 8\n      }, this), state === \"Sign Up\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: onChangeHandler,\n        value: formData.confirmPassword,\n        type: \"password\",\n        name: \"confirmPassword\",\n        placeholder: \"confirm your password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 8\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), state === \"Sign Up\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loginsignup-login\",\n        children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => {\n            setState(\"Login\");\n          },\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 68\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 10\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loginsignup-login\",\n        children: [\"Create an account? \", /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => {\n            setState(\"Sign Up\");\n          },\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 62\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          state === \"Login\" ? login() : signup();\n        },\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(LoginSignup, \"gR74/cyshFwC+t1vsWDz2/jIpsA=\", false, function () {\n  return [useAuthContext];\n});\n_c = LoginSignup;\nexport default LoginSignup;\nvar _c;\n$RefreshReg$(_c, \"LoginSignup\");","map":{"version":3,"names":["React","useState","useAuthContext","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","LoginSignup","_s","setAuthUser","state","setState","formData","setFormData","fullName","username","password","confirmPassword","onChangeHandler","e","target","name","value","login","console","log","FormData","responseData","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","json","data","localStorage","setItem","responsetoken","alert","error","signup","setTimeout","success","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","type","placeholder","autoComplete","onClick","_c","$RefreshReg$"],"sources":["C:/Users/NASRIN/Projects/todos_app/client/src/pages/LoginSignup.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport './styles/LoginSignup.css'\r\nimport { useAuthContext } from '../context/AuthContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst LoginSignup = () => {\r\n    \r\n    const {setAuthUser} = useAuthContext();\r\n    const [state,setState]=useState(\"Login\");\r\n     const [formData,setFormData] = useState ({\r\n        fullName:\"\",\r\n        username:\"\",\r\n        password:\"\",\r\n        confirmPassword:\"\"\r\n     });\r\n\r\n     const onChangeHandler = (e) => {\r\n            setFormData({\r\n                ...formData,\r\n                [e.target.name]: e.target.value\r\n            });\r\n     };\r\n\r\n     const login = async() => {\r\n        \r\n        console.log(\"Login function executed\",FormData);\r\n        let responseData;\r\n\r\n        await fetch('http://localhost:5000/api/auth/login' , {\r\n            method : 'POST',\r\n            headers : {\r\n              'Content-type' : 'application/json'\r\n            },\r\n            body : JSON.stringify(formData)\r\n        })\r\n\r\n        .then(response => {\r\n            if(!response.ok){\r\n                \r\n                throw new Error('Invalid credentials');\r\n            }\r\n            return response.json();\r\n            \r\n        })\r\n        .then(data => {\r\n             responseData=data;\r\n             if(responseData){\r\n                localStorage.setItem('token', responsetoken);\r\n                setAuthUser(responseData);\r\n            }\r\n            else{\r\n                alert(responseData.error)\r\n            }\r\n        })\r\n        \r\n        \r\n    }\r\n\r\n\r\n    const signup = async () => {\r\n        \r\n        console.log(\"signup function executed\", formData);\r\n        \r\n        try {\r\n            const response = await fetch('http://localhost:5000/api/auth/signup', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(formData)\r\n            });\r\n    \r\n            if (!response.ok) {\r\n                throw new Error('Invalid credentials');\r\n            }\r\n    \r\n            const responseData = await response.json();\r\n    \r\n            if (responseData) {\r\n                \r\n                setFormData({\r\n                    fullName: \"\",\r\n                    username: \"\",\r\n                    password: \"\",\r\n                    confirmPassword: \"\"\r\n                });\r\n                setTimeout(() => {\r\n                    toast.success(\"Signed up successfully\");\r\n                }, 100);\r\n                \r\n            } else {\r\n                alert(responseData.error);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Signup failed:\", error);\r\n            \r\n        }\r\n    };\r\n    \r\n\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n    <div className='loginsignup-container'>\r\n       <h2>{state}</h2>\r\n       {state===\"Sign Up\"?<input onChange={onChangeHandler} value={formData.fullName} type=\"text\" name=\"fullName\" placeholder=\"fullName\" ></input>:<></>}\r\n       <input onChange={onChangeHandler} value={formData.username} type=\"text\" name=\"username\" placeholder=\"username\" autoComplete=\"off\"></input>\r\n       <input onChange={onChangeHandler} value={formData.password} type=\"password\" name=\"password\" placeholder=\"password\" autoComplete=\"off\"></input>\r\n       {state===\"Sign Up\"?\r\n       <input onChange={onChangeHandler} value={formData.confirmPassword} type=\"password\" name=\"confirmPassword\" placeholder=\"confirm your password\" ></input>:<></>}\r\n\r\n       {state===\"Sign Up\"\r\n        ?<p className=\"loginsignup-login\">Already have an account? <span onClick={()=>{setState(\"Login\")}}>Log In</span></p>\r\n        :<p className=\"loginsignup-login\">Create an account? <span onClick={()=>{setState(\"Sign Up\")}}>Sign Up</span></p>}\r\n       \r\n       \r\n       <button onClick={()=>{state===\"Login\"?login():signup()}}>Continue</button>\r\n       \r\n    </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginSignup\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}